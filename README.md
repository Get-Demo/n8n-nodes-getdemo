# n8n-nodes-getdemo

This is an n8n community node for Getdemo. It allows you to list your demos (recordings) and receive webhook events for view activities.

[n8n](https://n8n.io/) is a [fair-code licensed](https://docs.n8n.io/sustainable-use-license/) workflow automation platform.

## Installation

### Install via npm

```bash
npm install n8n-nodes-getdemo
```

### Configure in n8n

1. Set the environment variable `N8N_CUSTOM_EXTENSIONS` to point to the installed package:
   ```bash
   export N8N_CUSTOM_EXTENSIONS=/path/to/node_modules/n8n-nodes-getdemo
   ```

2. Or if installed globally:
   ```bash
   export N8N_CUSTOM_EXTENSIONS=$(npm root -g)/n8n-nodes-getdemo
   ```

3. Restart n8n

For more details, see the [n8n community nodes installation guide](https://docs.n8n.io/integrations/community-nodes/installation/).

## Nodes

### Getdemo

The main node for interacting with the Getdemo API.

**Operations:**
- **List Recordings**: Lists all demos (recordings) for the authenticated user

### Getdemo Trigger

A webhook trigger node that starts workflows when Getdemo view events occur.

**Events:**
- **View Started**: Triggered when a demo view starts
- **View Finished**: Triggered when a demo view is completed or user disconnects
- **Step Changed**: Triggered when viewer moves to a different step

## Credentials

### Getdemo API Key

To use the Getdemo nodes, you need to generate an API Key in your Getdemo account:

1. Log in to Getdemo: https://app.getdemo.com.br
2. Navigate to **Integrations** → **API** (in the "Native Integrations" section)
3. Click **"Generate token"** or **"Integrate API"**
4. Copy the generated API Key (UUID format)
5. Use this API Key in the Getdemo API credential in n8n

**Important**: The API Key is **private/personal** - each user must generate their own. The API Key gives access only to the data of the user/company that generated it.

## Compatibility

- Minimum n8n version: 1.0.0
- Tested with n8n version: 2.3.4+

## Usage

### Example 1: List Recordings

1. Add the **Getdemo** node to your workflow
2. Configure the **Getdemo API Key** credential with your API Key
3. Select **Resource**: Recording
4. Select **Operation**: List
5. Execute the workflow to get all your demos

### Example 2: Monitor View Events

1. Add the **Getdemo Trigger** node to your workflow (as the first node/trigger)
2. Configure the **Webhook Path** (default: `getdemo-view`)
3. Copy the webhook URL generated by n8n
4. In Getdemo, go to **Integrations** → **Webhooks**
5. Add a new webhook pointing to the n8n webhook URL
6. Select which events you want to receive: **STARTED_VIEWING**, **FINISHED_VIEWING**, or **CHANGED_STEP_VIEWING**
7. Activate the workflow in n8n
8. The workflow will be triggered automatically when the selected view events occur

### Example Workflow: Send Notification When Demo is Viewed

```
[Getdemo Trigger: View Finished] → [IF: ctaClicked = true] → [Slack: Send Message]
```

### Example Workflow: Sync Demos to Google Sheets

```
[Schedule: Daily 9am] → [Getdemo: List Recordings] → [Loop Over Items] → [Google Sheets: Append Row]
```

## Data Structure

### List Recordings Response

Each recording object contains:
- `id` (UUID): Demo ID
- `name` (string): Demo name
- `token` (UUID): Demo token
- `status` (string): Demo status
- `views` (integer): Number of views
- `steps` (integer): Number of steps
- `createdAt` (datetime): Creation date
- `updatedAt` (datetime): Last update date

### View Event Webhook Payload

The webhook payload contains (varies by event type):
- `id` (UUID): View ID
- `recordingId` (UUID): Demo ID that was viewed
- `email` (string): Viewer email
- `fullName` (string): Viewer full name
- `isDone` (boolean): Whether view was completed
- `ctaClicked` (boolean): Whether CTA was clicked
- `totalFrames` (integer): Total frames in demo
- `lastFrame` (integer): Last frame viewed
- `campaignName` (string, optional): Campaign name

## Resources

* [n8n community nodes documentation](https://docs.n8n.io/integrations/#community-nodes)
* [Getdemo Documentation](https://app.getdemo.com.br/docs)

## Version history

### 0.1.0

- Initial release
- Getdemo node with List Recordings operation
- Getdemo Trigger node for view events (started, finished, step changed)
- Getdemo API Key credential support
